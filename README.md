# RabbitMQ Server

Этот пакет предназначен для исправления врожденных проблем
пакета rabbitmq-server ОС «Astra Linux Special Edition».

Авторы: [Лаборатория 50](http://лаборатория50.рф) team@lab50.net.

## Лицензия

Все материалы распространяются на условиях
стандартной общественной лицензии [GNU (GPL)](http://www.gnu.org/copyleft/gpl.html) версии 3.

Полный текст лицензии находится в файле COPYING.

## В чем проблема, Холмс?

Штатный пакет брокера RabbitMQ в составе дистрибутива 
Astra Linux Special Edition страдает двумя врожденными проблемами:

 1. Дефектный скрипт запуска `/etc/init.d/rabbitmq-server`
     (#56 на багтрекере Астры). В силу спорных изменений русбитеховцами в
     `/etc/default/rcS`, упомянутый скрипт не работает. Что, в свою очередь,
     приводит к фатальным последствиям в виде невозможности установить и сам пакет.

 2. Поставляемые стандартные скрипты не могут запускать RabbitMQ сервер
    с механизмом privsock. Прощай подключения к брокеру от секретных
    процессов.

## Но как, Холмс?

Настоящий пакет не является заменой штатному rabbitmq-server, а
предоставляет альтернативный демон `rabbitmq-server-parsec`. Все что
он делает — запускает брокер RabbitMQ с привилегией privsock.

Плюс, если вы будете устанавливать этот пакет вместо rabbitmq-server,
он подтянет последний по зависимостям и установит его правильно.

Для запуска rabbitmq-server используется утилита
[start-stop-parsec-daemon](https://github.com/laboratory50/start-stop-parsec-daemon).
